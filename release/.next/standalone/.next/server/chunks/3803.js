"use strict";exports.id=3803,exports.ids=[3803],exports.modules={3803:(e,t,r)=>{r.a(e,async(e,s)=>{try{r.d(t,{Z:()=>ChangePasswordModal});var o=r(997),n=r(6689),a=r(3504),i=r(1163),d=r(7771),l=e([a]);function ChangePasswordModal({onClose:e,userId:t,isForcedReset:r=!1}){let s=(0,i.useRouter)(),[l,b]=(0,n.useState)(""),[m,w]=(0,n.useState)(""),[j,C]=(0,n.useState)(""),[S,v]=(0,n.useState)(""),[P,k]=(0,n.useState)(!1),[I,R]=(0,n.useState)(!1),[z,B]=(0,n.useState)(!1),handleChangePassword=async()=>{if(!m||!j||!r&&!l){v("모든 항목을 입력해주세요.");return}if(m!==j){v("새 비밀번호가 일치하지 않습니다.");return}try{let o=r?{newPassword:m,userId:t}:{currentPassword:l,newPassword:m};await a.ZP.post("/mypage/change-password",o),alert("비밀번호가 변경되었습니다. 다시 로그인해주세요."),e(),s.replace("/login")}catch(e){console.error("❌ 비밀번호 변경 실패:",e),v(e.response?.data?.message||"비밀번호 변경 중 오류가 발생했습니다.")}},renderPasswordInput=(e,t,r,s,n)=>(0,o.jsxs)("div",{style:x,children:[o.jsx("label",{children:e}),(0,o.jsxs)("div",{style:{position:"relative"},children:[o.jsx("input",{type:s?"text":"password",value:t,onChange:e=>r(e.target.value),style:{...u,paddingRight:"36px"}}),o.jsx("span",{onClick:()=>n(!s),style:g,children:s?o.jsx(d.p3W,{}):o.jsx(d.w8I,{})})]})]});return o.jsx("div",{style:p,children:(0,o.jsxs)("div",{style:c,children:[o.jsx("h3",{style:{marginBottom:"16px"},children:r?"비밀번호 재설정":"비밀번호 변경"}),!r&&renderPasswordInput("현재 비밀번호",l,b,P,k),renderPasswordInput("새 비밀번호",m,w,I,R),renderPasswordInput("새 비밀번호 확인",j,C,z,B),S&&o.jsx("p",{style:h,children:S}),(0,o.jsxs)("div",{style:{marginTop:"20px",textAlign:"right"},children:[o.jsx("button",{onClick:handleChangePassword,style:y,children:"변경하기"}),o.jsx("button",{onClick:e,style:f,children:"취소"})]})]})})}a=(l.then?(await l)():l)[0];let p={position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.4)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},c={backgroundColor:"#fff",padding:"24px",borderRadius:"8px",width:"360px",boxShadow:"0 4px 12px rgba(0,0,0,0.2)"},x={marginBottom:"12px",display:"flex",flexDirection:"column",gap:"6px"},u={padding:"8px",fontSize:"0.95rem",border:"1px solid #ccc",borderRadius:"4px",width:"100%"},g={position:"absolute",top:"50%",right:"10px",transform:"translateY(-50%)",cursor:"pointer",fontSize:"18px",color:"#888"},h={color:"red",fontSize:"0.85rem",marginTop:"6px"},y={padding:"8px 16px",marginRight:"8px",backgroundColor:"#2196F3",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer"},f={...y,backgroundColor:"#ccc",color:"#333"};s()}catch(e){s(e)}})}};
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7846],{458:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/education/followup",function(){return a(3326)}])},3326:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return FollowupPage}});var s=a(5893),o=a(7294),l=a(1163),n=a(2996),r=a(2503),i=a(2378),c=a(1657),u=a(9260);function FollowupPage(){let[e,t]=(0,o.useState)([]),[a,d]=(0,o.useState)(!0),[p,h]=(0,o.useState)("start_date"),[f,w]=(0,o.useState)("asc"),[x,g]=(0,o.useState)(!1),[y,S]=(0,o.useState)("전체"),[v,D]=(0,o.useState)(""),[_,j]=(0,o.useState)({startDate:null,endDate:null});(0,l.useRouter)();let m="followup",b=(0,i.aj)();(0,o.useEffect)(()=>{fetch("".concat("http://localhost:5001/api","/education/schedules/public?type=").concat(m,"&sort=").concat(p,"&order=").concat(f),{credentials:"include"}).then(e=>e.json()).then(e=>{e.success&&t(e.schedules)}).catch(()=>alert("일정을 불러오지 못했습니다.")).finally(()=>d(!1))},[m,p,f]);let P=new Date,T=e.filter(e=>{var t,a,s,o,l;let n=new Date(e.start_date)<P;if(!x&&n)return!1;let r=v.trim().toLowerCase();if("전체"===y||"교육명"===y)return null===(t=e.title)||void 0===t?void 0:t.toLowerCase().includes(r);if("교육기간"===y&&_.startDate&&_.endDate){let t=(null===(a=(s=_.startDate).toDate)||void 0===a?void 0:a.call(s))||_.startDate,n=(null===(o=(l=_.endDate).toDate)||void 0===o?void 0:o.call(l))||_.endDate,r=new Date(n.getTime()+864e5-1),i=new Date(e.start_date);return i>=t&&i<=r}return!0});return(0,s.jsxs)("div",{style:{padding:32},children:[(0,s.jsx)(r.Z,{tabs:[{label:"followup",href:"/education/followup"},{label:"certification",href:"/education/certification"},{label:"공개교육",href:"/education/opencourse"},{label:"facilitation",href:"/education/facilitation"}]}),(0,s.jsxs)("div",{style:{position:"relative",textAlign:"left",marginBottom:16},children:[(0,s.jsx)("img",{src:"/images/opencourse.png",alt:"opencourse 페이지에서는 누구나 참여할 수 있는 공개교육 프로그램을 소개합니다.",style:{width:"100%",maxWidth:1200,height:"auto",borderRadius:8,display:"block",margin:"0 auto"}}),(0,s.jsxs)("div",{style:{position:"absolute",top:"clamp(12px, 3vw, 24px)",left:"clamp(16px, 4vw, 32px)",color:"#222"},children:[(0,s.jsx)("h1",{style:{margin:0,fontSize:"clamp(18px, 4vw, 24px)",fontWeight:"bold"},children:"followup"}),(0,s.jsx)("p",{style:{margin:0,fontSize:"clamp(12px, 2.8vw, 14px)",color:"#555"},children:"팔로우업"})]})]}),b?(0,s.jsx)(c.Z,{searchType:y,setSearchType:S,searchKeyword:v,setSearchKeyword:D,sort:p,setSort:h,order:f,setOrder:w,showPast:x,setShowPast:g,dateRange:_,setDateRange:j}):(0,s.jsx)(n.Z,{searchType:y,setSearchType:S,searchKeyword:v,setSearchKeyword:D,dateRange:_,setDateRange:j,sort:p,setSort:h,order:f,setOrder:w,showPast:x,setShowPast:g}),a?(0,s.jsx)("p",{style:{textAlign:"center",padding:"40px 0"},children:"불러오는 중..."}):0===T.length?(0,s.jsx)("p",{style:{textAlign:"center",padding:"40px 0"},children:"등록된 일정이 없습니다."}):(0,s.jsx)(u.Z,{schedules:T,type:m})]})}}},function(e){e.O(0,[4885,8702,9774,2888,179],function(){return e(e.s=458)}),_N_E=e.O()}]);
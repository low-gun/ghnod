(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3750],{5920:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/orders/[id]",function(){return i(5383)}])},5383:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return OrderDetailPage}});var n=i(5893),o=i(1163),d=i(7294),s=i(3504),r=i(7104);function OrderDetailPage(){let e=(0,o.useRouter)(),{id:t}=e.query,[i,c]=(0,d.useState)([]),[l,a]=(0,d.useState)(null),[u,h]=(0,d.useState)(!0);return((0,d.useEffect)(()=>{if(!e.isReady||!t)return;let fetchItems=async()=>{try{let e=await s.ZP.get("/orders/".concat(t,"/items"));console.log("\uD83D\uDFE6 주문 응답:",e.data),e.data.items.forEach((e,t)=>{console.log("\uD83D\uDCE6 [".concat(t,"] schedule_id: ").concat(e.schedule_id,", product_type: ").concat(e.type))}),c(e.data.items||[]),a(e.data.order||null)}catch(e){console.error("❌ 주문 항목 조회 실패:",e)}finally{h(!1)}};fetchItems()},[e.isReady,t]),u)?(0,n.jsx)("p",{style:{padding:40},children:"불러오는 중..."}):i.length?(0,n.jsxs)("div",{style:{maxWidth:960,margin:"0 auto",padding:24},children:[(0,n.jsx)("h2",{style:{fontSize:20,fontWeight:"bold",marginBottom:20},children:"주문 상세내역"}),l&&(0,n.jsxs)("div",{style:{marginBottom:24,background:"#f9f9f9",border:"1px solid #ddd",padding:16,borderRadius:8,lineHeight:"1.6",fontSize:15},children:[(0,n.jsxs)("div",{children:["총 상품금액:"," ",(0,n.jsxs)("strong",{children:[(0,r.T)(l.total_amount+(l.used_point||0)+(l.coupon_discount||0)),"원"]})]}),(0,n.jsxs)("div",{children:["쿠폰 할인:"," ",(0,n.jsxs)("strong",{children:[(0,r.T)(l.coupon_discount||0),"원"]})]}),(0,n.jsxs)("div",{children:["포인트 사용: ",(0,n.jsxs)("strong",{children:[(0,r.T)(l.used_point||0),"P"]})]}),(0,n.jsx)("hr",{style:{margin:"12px 0"}}),(0,n.jsxs)("div",{style:{fontWeight:"bold",fontSize:16},children:["결제금액:"," ",(0,n.jsxs)("span",{style:{color:"#0070f3"},children:[(0,r.T)(l.total_amount),"원"]})]})]}),(0,n.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(260px, 1fr))",gap:16},children:i.map(t=>(0,n.jsxs)("div",{style:{border:"1px solid #ddd",borderRadius:8,padding:16,background:"#fff",boxShadow:"0 1px 4px rgba(0,0,0,0.05)"},children:[(0,n.jsx)("div",{style:{width:"100%",aspectRatio:"4 / 3",border:"1px solid #ccc",borderRadius:8,backgroundColor:"#f9f9f9",overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:12},children:t.image_url?(0,n.jsx)("img",{src:t.image_url,alt:t.title,style:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain"}}):(0,n.jsx)("span",{style:{color:"#999",fontSize:13},children:"이미지 없음"})}),(0,n.jsx)("div",{style:{fontWeight:"bold",fontSize:16,marginBottom:8},children:t.title}),(0,n.jsxs)("div",{style:{fontSize:14,color:"#555"},children:["교육기간: ",function(e,t){let i=new Date(e).toLocaleDateString("ko-KR"),n=new Date(t).toLocaleDateString("ko-KR");return i===n?i:"".concat(i," ~ ").concat(n)}(t.start_date,t.end_date)]}),(0,n.jsxs)("div",{style:{fontSize:14,color:"#555"},children:["수량: ",t.quantity]}),(0,n.jsxs)("div",{style:{fontSize:14,color:"#555"},children:["단가:"," ",t.discount_price&&t.discount_price<t.price?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("span",{style:{textDecoration:"line-through",marginRight:8},children:[(0,r.T)(t.price),"원"]}),(0,n.jsxs)("span",{style:{color:"#d32f2f"},children:[(0,r.T)(t.discount_price),"원"]})]}):"".concat((0,r.T)(t.unit_price),"원")]}),(0,n.jsxs)("div",{style:{fontSize:14,color:"#555"},children:["합계: ",(0,r.T)(t.subtotal),"원"]}),t.type&&t.schedule_id&&(0,n.jsx)("div",{style:{marginTop:12},children:(0,n.jsx)("button",{onClick:()=>e.push("/education/".concat(t.type,"/").concat(t.schedule_id)),style:{padding:"6px 12px",background:"#0070f3",color:"#fff",border:"none",borderRadius:6,cursor:"pointer",fontSize:"14px"},children:"상세보기"})})]},t.id))})]}):(0,n.jsx)("p",{style:{padding:40},children:"주문 내역이 없습니다."})}}},function(e){e.O(0,[9774,2888,179],function(){return e(e.s=5920)}),_N_E=e.O()}]);
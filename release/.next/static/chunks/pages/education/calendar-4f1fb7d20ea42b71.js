(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9518],{4050:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/education/calendar",function(){return n(2554)}])},2554:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return d},default:function(){return CalendarPage}});var r=n(5893),i=n(7294),a=n(1163),o=n(381),l=n(3038),s=n(4451);function formatYYYYMMDD(e){if(!(e instanceof Date))return"";let t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return"".concat(t,"-").concat(n,"-").concat(r)}function parseYYYYMMDD(e){if(!e)return null;let[t,n,r]=e.split("-");return new Date(Number(t),Number(n)-1,Number(r))}var d=!0;function CalendarPage(e){let{eventsData:t}=e,[n,d]=(0,i.useState)(()=>t.map(e=>({id:e.id,title:e.title,start:new Date(e.start_date),end:new Date(e.end_date),location:e.location,instructor:e.instructor,description:e.description,total_spots:e.total_spots,type:e.type||e.category||null}))),[u,c]=(0,i.useState)("전체"),[p,x]=(0,i.useState)(""),[f,g]=(0,i.useState)(new Date),[h,v]=(0,i.useState)(new Date(2025,11,31)),[Y,y]=(0,i.useState)(o()),D=(0,a.useRouter)(),w=(0,i.useMemo)(()=>{let e=D.query.id;return n.find(t=>String(t.id)===String(e))},[D.query.id,n]);(0,i.useEffect)(()=>{"교육기간"===u&&y(f)},[u,f]);let S=n.filter(e=>{var t,n,r,i,a;let o=p.toLowerCase();if("전체"===u){if(o&&!((null===(n=e.title)||void 0===n?void 0:n.toLowerCase().includes(o))||(null===(r=e.location)||void 0===r?void 0:r.toLowerCase().includes(o))||(null===(i=e.instructor)||void 0===i?void 0:i.toLowerCase().includes(o))||(null===(a=e.description)||void 0===a?void 0:a.toLowerCase().includes(o))))return!1}else if("교육명"===u&&o&&!(null===(t=e.title)||void 0===t?void 0:t.toLowerCase().includes(o)))return!1;else if("교육기간"===u){let t=e.start,n=e.end;if(n<f||t>h)return!1}return!0});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{style:{textAlign:"center",margin:"8px 0 16px",fontSize:"20px",fontWeight:"bold"},children:[(0,r.jsx)("span",{style:{marginRight:"20px",cursor:"pointer",fontSize:"24px"},onClick:()=>y(Y.clone().subtract(1,"month")),children:"◀"}),Y.format("YYYY년 M월"),(0,r.jsx)("span",{style:{marginLeft:"20px",cursor:"pointer",fontSize:"24px"},onClick:()=>y(Y.clone().add(1,"month")),children:"▶"})]}),(0,r.jsx)("div",{style:{margin:"0 20px 10px",padding:"10px",border:"1px solid #ccc",borderRadius:"4px",backgroundColor:"#f9f9f9"},children:(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px",flexWrap:"wrap"},children:[(0,r.jsxs)("select",{value:u,onChange:e=>{c(e.target.value),x(""),g(new Date),v(new Date(2025,11,31))},style:{padding:"4px 8px",border:"none",backgroundColor:"transparent",fontSize:"14px"},children:[(0,r.jsx)("option",{value:"전체",children:"전체"}),(0,r.jsx)("option",{value:"교육명",children:"교육명"}),(0,r.jsx)("option",{value:"교육기간",children:"교육기간"})]}),("전체"===u||"교육명"===u)&&(0,r.jsx)("input",{type:"text",placeholder:"검색어를 입력하세요",value:p,onChange:e=>x(e.target.value),style:{width:"50%",padding:"4px 8px",borderRadius:"4px",border:"1px solid #ccc"}}),"교육기간"===u&&(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"4px",width:"50%"},children:[(0,r.jsx)("input",{type:"date",value:formatYYYYMMDD(f),onChange:e=>g(parseYYYYMMDD(e.target.value)),style:{flex:1,padding:"4px 8px",borderRadius:"4px",border:"1px solid #ccc"}}),(0,r.jsx)("span",{children:"~"}),(0,r.jsx)("input",{type:"date",value:formatYYYYMMDD(h),onChange:e=>v(parseYYYYMMDD(e.target.value)),style:{flex:1,padding:"4px 8px",borderRadius:"4px",border:"1px solid #ccc"}})]})]})}),(0,r.jsx)("div",{style:{display:"flex",gap:"20px",padding:"20px"},children:(0,r.jsx)("div",{style:{flex:1,fontSize:"14px"},children:(0,r.jsx)(l.Z,{schedules:S,currentMonth:Y,setCurrentMonth:y,onSelectSchedule:e=>{if(console.log("\uD83E\uDDEA 클릭된 일정:",e),!(null==e?void 0:e.type)){alert("교육 타입 정보가 없습니다.");return}D.push("/education/".concat(e.type,"/").concat(e.id))},shouldFilterInactive:!1})})}),(0,r.jsx)(s.Z,{schedule:w,onClose:()=>D.push(D.pathname,void 0,{shallow:!0}),mode:"user"})]})}}},function(e){e.O(0,[4885,3038,9774,2888,179],function(){return e(e.s=4050)}),_N_E=e.O()}]);